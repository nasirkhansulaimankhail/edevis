[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "\n\n.addressfield{\n    border: collapse !important;\n    width: 100%;\n    font-size: 8pt;\n    margin-bottom: 4em;\n}\n\n.addressfield p{\n    font-size: 7pt;\n    margin-bottom: 2em;\n}\n\ntable .dense\n{\n    line-height: 0.5;\n    font-size: 8pt;\n}\n\n.myFooterCol{\n    width: 25%;\n    font-size: 6pt; \n    font-style: oblique; \n    font-weight: 200; \n    font-family: 'Univers LT Std'; \n    font-style: oblique;\n}\n\n.myFooterCol td{\n    border-left: 1px solid #d3d3d3  !important;\n}\n\n.myFooterCol td:first-child{\n    border-left: none  !important;\n}\n\n\n.print-format {\n\tfont-family: 'Univers LT Std';\n}\n\np.headline{\n    border-bottom: black solid 1px; \n    margin-bottom: 1em;\n}\n\n.infobox{\n    background-color: #f7f7f7; \n    padding-top: 0.5em;\n    padding-left: 1em;\n    padding-right: 2em;\n    padding-bottom: 1em;\n    height: auto;\n}\n\n.spec {\n  border-collapse: collapse;\n  background-color: #fafafa;\n  width: 100%;\n  font-size: x-small;\n}\n\n.pricetable {\n    line-height: 1;\n    border-left: 1px solid gray  !important;\n    border-right: 1px solid gray  !important;\n    border-top: 1px solid gray  !important;\n    border-bottom: 1px solid gray  !important;\n    width: 100%;\n    font-size: 7pt;\n}\n\n.sumtable {\n    border: none !important;\n    width: 100%;\n    font-size: 7pt;\n    border-spacing: 0px;\n    padding: 0px;\n}\n\ntr.page-break {\n  border-bottom: 1px solid black; /* Fügen Sie hier Ihre Linienstildefinition hinzu */\n}\n\n.pricetable td{\n    border-left: 1px solid gray !important;\n    border-right: 1px solid gray !important;\n}\n\ntr.tableLine {\n    \n    border-top: solid 1px gray;\n\n}\n\ntr:last-child.quoteitems {\n    border-bottom: solid 2px gray;\n}\n.sectionHeader {\n    font-weight: bold;\n}\n\n.spec td {\n  border: 1px solid gray; \n}\n.spec tr:first-child td {\n  border-top: 0;\n}\n.spec tr td:first-child {\n  border-left: 0;\n}\n.spec tr:last-child td {\n  border-bottom: 0;\n}\n.spec tr td:last-child {\n  border-right: 0;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set ns = namespace() %}\n<!-- DO NOT EDIT THIS FILE -->\n<!-- edit the  master file (QuoteExtended) instead, and set ns.printSpecification = false -->\n\n{% set ns.printSpecification = false %}\n\n<!-- Do document checks -->\n{% if not doc.payment_terms_template %}\n    {{ quote_checkpaymentterms(doc) }}\n{% endif %}\n\n\n{% if check_quoteitems(doc) %}\n    {{ frappe.throw(check_quoteitems(doc)) }}\n{% endif %}\n\n<!-- Do printing -->\n\n<style>\n{% set site_url = frappe.utils.get_url() %}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: normal;\n\tfont-weight: 200;\n\tsrc: local('Univers LT Std 47 Cn Lt'), local('Univers LT Std 47 Cn Lt'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-LightCn.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: oblique;\n\tfont-weight: 200;\n\tsrc: local('Univers LT Std 47 Cn Lt'), local('Univers LT Std 47 Cn Lt'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-LightCnObl.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: normal;\n\tfont-weight: normal;\n\tsrc: local('Univers LT Std 57 Cn'), local('Univers LT Std 57 Cn'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-Cn.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: oblique;\n\tfont-weight: normal;\n\tsrc: local('Univers LT Std 57 Cn'), local('Univers LT Std 57 Cn'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-CnObl.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: normal;\n\tfont-weight: bold;\n\tsrc: local('Univers LT Std'), local('Univers LT Std'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-BoldCn.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: oblique;\n\tfont-weight: bold;\n\tsrc: local('Univers LT Std'), local('Univers LT Std'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-BoldCnObl.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Pro';\n\tfont-style: normal;\n\tfont-weight: bold;\n\tsrc: local('Univers LT Pro'), local('Univers LT Pro'), url('{{ site_url }}/assets/edevis/font/UniversLTPro-XBlack.otf') format('opentype');\n}\n\n</style>\n\n<!-- LETTER HEAD -->\n{% if letter_head %}\n<div class=\"print-format-header\" id=\"header-html\">\n    {{ letter_head }}\n</div>\n{% endif %}\n\n<!-- ADDRESS LABEL -->\n<table class=\"addressfield\">\n<tr>\n    <td style=\"width:60%\">\n        <p class=\"addresssender\">edevis GmbH | Wilhelm-Haas-Str. 2 | D-70771 Leinfelden-Echterdingen</p>\n    <strong>{{ doc.customer_name }}</strong><br/>\n\t{% if doc.address_display %}\n\t    {{ doc.address_display }}\n\t{% endif %}\n\t\n\t<br/>\n\t\n\t</td>\n\t<td style=\"width:40%\">\n\t\t\t<table class=\"dense\" style=\"width: 100%\">\n\t    \t<tr><td>{{ _(\"Customer No.\") }}:</td><td style=\"text-align: right;\">{{ doc.party_name }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Customer VAT-Id\") }}:</td><td style=\"text-align: right;\">{{ frappe.db.get_value(\"Customer\", doc.party_name, \"tax_id\") or \"\" }}</td></tr>\t\n\t\t\t<tr><td>{{ _(\"Supp.No. ref. Cust.No.\") }}:</td><td style=\"text-align: right;\">{{ frappe.db.get_value(\"Customer\", doc.party_name, \"custom_supp_no_ref_cust_no\") or \"\" }}</td></tr>\t\t\n\t\t\t<tr><td>{{ _(\"Processed by\") }}:</td><td style=\"text-align: right;\">{{ frappe.get_fullname(doc.modified_by) or \"\" }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Date\") }}:</td><td style=\"text-align: right;\">{{ frappe.utils.formatdate(doc.transaction_date, \"dd.MM.yyyy\") }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Valid Till\") }}:</td><td style=\"text-align: right;\">{{ frappe.utils.formatdate(doc.valid_till, \"dd.MM.yyyy\") }}</td></tr>\n\n\t\t</table>\n\t</td>\t\n</tr>    \n</table>\n\n<!-- HEADER -->\n{% if doc.docstatus == 0 %}\n<H2 style=\"text-align: center;\">\n    --- ENTWURF ---\n</H2>\n{% endif %}\n\n{% set ns.Columns = 4 %}\n{% if not doc.hide_item_price_within_section %}\n\t{% set ns.Columns = 5 %}\n\t{% if quoteitem_has_discount(doc) %}\n        {% set ns.Columns = 6 %}\n    {% endif %}\n{% endif %}\n\n<div>\n    <h5><span style=\"font-weight: normal;\">{{ _(doc.doctype) }}</span><span style=\"font-weight: bold;\"> {{ doc.name }}</span></h5>\n</div>\n\n<div style=\"margin-bottom: 2em;\">\n    {{ doc.custom_quotation_note or ''}}\n</div>\n\n<div>\n    {% if doc.header_text %}\n        {{ doc.header_text }}\n    {% endif %}\n</div>\n<!-- PRICE TABLE -->\n<table class=\" table-sm pricetable\" >\n\t<thead>\n\t\t<tr class=\"\">\n\t\t\t<th width=\"5%\">{{ _(\"Item Pos\") }}</th>\n\t\t\t<th width=\"10%\">{{ _(\"Item No\") }}</th>\n\t\t\t<th width=\"25%\">{{ _(\"Description\") }}</th>\n\t\t\t<th width=\"5%\" class=\"text-right\">{{ _(\"Qty\") }}</th>\n\t\t\t{% if not doc.hide_item_price_within_section %}\n    \t\t\t<th width=\"10%\" class=\"text-right\">{{ _(\"Rate\") }}</th>\n    \t\t\t{% if quoteitem_has_discount(doc) %}\n    \t\t\t<th width=\"10%\" class=\"text-right\">{{ _(\"Discount\") }}</th>\n    \t\t\t{% endif %}\n\t\t\t{% endif %}\n\t\t\t<th width=\"10%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t    <!-- add parent relationship info to the quotation_items => support hierarchical section headers -->\n\t\t{%- for item in structurize_quoteitem(doc) -%}\n            <!-- format with separator lines if element is first order position (POS1), else without (POS 1.1) -->\n            {% set ns.tableLine = \"tableLine\" if item.parent_item is none else \"\" %}\n            <!-- format bold and with separator lines for section headers -->\n            {% set ns.tableLine = \"tableLine sectionHeader\" if quoteitem_is_header(item) else ns.tableLine %}\n            \n    \t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t        <td class=\"\">{{ item.position }}</td>\n\n\t\t\t    <td class=\"\">\n        \t\t{{ item.item_code if item.item_group != \"Format Elemente\" else \"\"}}\n        \t\t\n        \t\t\n\t\t\t    <td class=\"\">\n\t\t\t        <p>{{ _(item.item_name)}}</p>\n        \t\n\t\t \t\t\t{% if not doc.custom_compact_item_print and item.item_group != \"Format Elemente\" %}\n                    <p>{{ _(item.description)}}</p>    \n                    {%- endif -%}\n                    \n        \t\n        \t\t\n    \t\t\t</td>\n    \t\t\t{% if doc.flags.print_settings.print_uom_after_quantity %}\n    \t\t\t    <td class=\" text-right\">{{ item.qty if item.qty != 0 else \"\" }} {{ _(item.uom) }}</td>\n    \t\t\t{% else %}\n    \t\t\t    <td class=\" text-right\">{{ _(item.uom) if item.qty != 0 else \"\" }} {{ item.qty if item.qty != 0 else \"\" }}</td>\n    \t\t\t{% endif %}\n    \t\t\t\n\t\t\t\t{% if not doc.hide_item_price_within_section %}\n        \t\t    <!-- conditional discount column -->\n\t        \t\t{% if quoteitem_has_discount(doc) %}\n    \t\t\t        <td class=\" text-right\">{{ item.get_formatted(\"price_list_rate\") if item.price_list_rate != 0 else item.get_formatted(\"rate\") if item.rate != 0 else \"\" }}</td>\n            \t\t\t<td class=\"{{ ns.tableLine }} text-right\">{{ item.get_formatted(\"discount_percentage\") if item.discount_percentage != 0 else \"\" }}</td>\n            \t\t{% else %}\n    \t\t\t        <td class=\" text-right\">{{ item.get_formatted(\"rate\") if item.rate != 0 else \"\" }}</td>\n        \t\t\t{% endif %}\n    \t\t\t{% endif %}\n\n\n    \t\t    <!-- amount column -->\n    \t\t\t<td class=\"{{ ns.tableLine }} text-right\">{{ item.get_formatted(\"amount\") if item.amount != 0 else \"\" }}</td>\n    \t\t</tr>\n    \t\t\n\t\t{%- endfor -%}\n\t\t\n\t\t{% set ns.tableLine = \"tableLine\" %}\n\t\t\n\t\t<tr class=\" quoteitems {{ ns.tableLine }}\">\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\n\t\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t\t{{ _(\"Total Excl. Tax\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% else %}\n\t\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t\t{{ _(\"Total\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% endif %}\n\t\t</tr>\n\t\t\n\t\t{%- if doc.discount_amount -%}\n\t\t<tr class=\" quoteitems {{ ns.tableLine }}\">\n\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t    {%- if doc.additional_discount_percentage != 0 -%}\n\t\t\t\t    {{ _(\"Discount\") }} ({{ doc.get_formatted(\"additional_discount_percentage\") }} &percnt;)\n\t\t\t\t{% else %}\n\t\t\t\t    {{ _(\"Discount\") }}\n\t\t\t\t{%- endif -%}    \n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t\n\t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t    {{ _(\"Net Total\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"net_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\t\t\n\t\t\n\t\t{%- for row in doc.taxes -%}\n\t\t  {%- if not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print -%}\n\t\t  {%- if row.tax_amount > 0 -%}\n\t\t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t    {% if '%' in row.description or row.rate == 0 %}\n\t\t\t\t\t    {{ row.description }}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t    {{ row.description }}@{{ row.rate }}%\n\t\t\t\t\t{% endif %}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t    {% endif %}\n\t\t  {%- endif -%}\n\t\t{%- endfor -%}\t\n\t\t\n\t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t<b>{{ _(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t<b>{{ doc.get_formatted(\"grand_total\") }}</b>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><br></p>\n{%- if doc.taxes_and_charges is not none and \"Reverse Charge\" in doc.taxes_and_charges -%}\n    <p><strong>{{ _(\"Reverse charge\") }}</strong></p>\n    {{ _(\"Reverse Charge Text\") }}\n    \n{%- endif -%}\n\n<p><br></p>\n<p><strong>{{ _(\"Order Entry hint\") }}</strong></p>\n\n<p><br></p>\n<p><strong>{{ _(\"Payment terms\") }}</strong></p>\n    {%- for row in doc.payment_schedule -%}\n        {{ _(row.description) }}<br>\n    {%- endfor -%}\n\n    {{ _(\"Payment terms text\") }}<br>\n\n<p><br></p>\n<p><strong>{{ _(\"Mode of delivery\") }}</strong></p>\n{{ _(doc.incoterm) }} - {{ doc.named_place }} (Incoterms 2020)\n\n<p><br></p>\n<p><strong>{{ _(\"Valid till\") }}</strong></p>\n{{ _(\"This offer is valid until\") }} {{ frappe.utils.formatdate(doc.valid_till, \"dd.MM.yyyy\") }}.\n\n{% if doc.delivery_time %}\n<p><br></p>\n<p><strong>{{ _(\"Delivery time\") }}</strong></p>\n    {{ doc.delivery_time }} {{ _(doc.delivery_time_unit) }} {{ _(\"Delivery time text\") }}\n{% endif %}\n\n<p><br></p>\n<p><strong>{{ _(\"Liability\") }}</strong></p>\n    {{ _(\"Liability text\") }}\n\n<p><br></p>\n<p><strong>{{ _(\"Copyright protection\") }}</strong></p>\n    {{ _(\"Copyright protection text\") }}\n\n<p><br></p>\n<p><strong>{{ _(\"Retention of title\") }}</strong></p>\n    {{ _(\"Retention of title text\") }}\n\n{% if not doc.supply_of_spare_parts_clause %}\n\n<p><br></p>\n<p><strong>{{ _(\"Supply of spare parts\") }}</strong></p>\n    {{ _(\"Supply of spare parts text\") }}\n\n{% endif %}\n\n\n{% if doc.terms %}\n\n        {{ doc.terms | replace(\"{{ payment_terms_template }}\", doc.payment_terms_template) | replace(\"{{ incoterm }}\", doc.incoterm or \"EXW\" ) | replace(\"{{ named_place }}\", doc.named_place or \"Leinfelden-Echterdingen\" ) | replace(\"{{ valid_till }}\", doc.valid_till) }}\n\n{% endif %}\n\n{% if doc.print_specification %}\n\n<div class=\"page-break\"></div>\n\n<h3><span style=\"font-weight: normal;\">{{ _(\"Specification for\") }}</span> {{ doc.name }}</h3>\n{%- for item in doc.items -%}\n    {% if item.item_group != \"Format Elemente\" %}\n    <div style=\"page-break-inside: avoid !important;\">\n    <!-- avoid page break after heading using a table -->\n    <table style=\"width: 100%\">\n        <tr>\n            <td style=\"width: 100%\">\n                <!-- heading with item code and item name -->\n            \t<h4 style=\"font-weight:normal;\">{{ item.item_code }}  &nbsp;\n            \t{%- if item.item_name != item.item_code -%}\n            \t\t<b>{{ item.item_name }}</b>\n            \t{%- endif -%}\n            \t</h4>\n                <!-- item picture -->\n                \n                {%- if not \"img src\" in _(item.description) and item.image  -%}\n                <div style=\"max-width: 60%; margin-right: 10px;\">\n                    <img src=\"{{ item.image }}\" style=\"max-width: 100%\">\n                </div>\n                {%- endif -%}\n            </td>\n        </tr>\n    </table>\n\n    <p>{{ _(item.description) }}</p>\n\t\n\t<div style=\"height: 3em;\">&nbsp;</div>\n\t</div>\n\t{% endif %}\n{%- endfor -%}\n{% endif %}\n\n\n\n\n<div id=\"footer-html\" class=\"visible-pdf\">\n    <div class=\"print-format-footer\">\n        {{ footer }}\n    </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-11-22 15:44:46.074557",
  "module": "Edevis",
  "name": "Quotation - ED",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "\n\n.addressfield{\n    border: collapse !important;\n    width: 100%;\n    font-size: 8pt;\n    margin-bottom: 4em;\n}\n\n.addressfield p{\n    font-size: 7pt;\n    margin-bottom: 2em;\n}\n\ntable .dense\n{\n    line-height: 0.5;\n    font-size: 8pt;\n}\n\n.myFooterCol{\n    width: 25%;\n    font-size: 6pt; \n    font-style: oblique; \n    font-weight: 200; \n    font-family: 'Univers LT Std'; \n    font-style: oblique;\n}\n\n.myFooterCol td{\n    border-left: 1px solid #d3d3d3  !important;\n}\n\n.myFooterCol td:first-child{\n    border-left: none  !important;\n}\n\n\n.print-format {\n\tfont-family: 'Univers LT Std';\n}\n\np.headline{\n    border-bottom: black solid 1px; \n    margin-bottom: 1em;\n}\n\n.infobox{\n    background-color: #f7f7f7; \n    padding-top: 0.5em;\n    padding-left: 1em;\n    padding-right: 2em;\n    padding-bottom: 1em;\n    height: auto;\n}\n\n.spec {\n  border-collapse: collapse;\n  background-color: #fafafa;\n  width: 100%;\n  font-size: x-small;\n}\n\n.pricetable {\n    line-height: 1;\n    border-left: 1px solid gray  !important;\n    border-right: 1px solid gray  !important;\n    border-top: 1px solid gray  !important;\n    border-bottom: 1px solid gray  !important;\n    width: 100%;\n    font-size: 7pt;\n}\n\n.sumtable {\n    border: none !important;\n    width: 100%;\n    font-size: 7pt;\n    border-spacing: 0px;\n    padding: 0px;\n}\n\ntr.page-break {\n  border-bottom: 1px solid black; /* Fügen Sie hier Ihre Linienstildefinition hinzu */\n}\n\n.pricetable td{\n    border-left: 1px solid gray !important;\n    border-right: 1px solid gray !important;\n}\n\ntr.tableLine {\n    \n    border-top: solid 1px gray;\n\n}\n\ntr:last-child.quoteitems {\n    border-bottom: solid 2px gray;\n}\n.sectionHeader {\n    font-weight: bold;\n}\n\n.spec td {\n  border: 1px solid gray; \n}\n.spec tr:first-child td {\n  border-top: 0;\n}\n.spec tr td:first-child {\n  border-left: 0;\n}\n.spec tr:last-child td {\n  border-bottom: 0;\n}\n.spec tr td:last-child {\n  border-right: 0;\n}",
  "custom_format": 1,
  "default_print_language": "de",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set ns = namespace() %}\n<!-- DO NOT EDIT THIS FILE -->\n<!-- edit the  master file (QuoteExtended) instead, and set ns.printSpecification = false -->\n\n{% set ns.printSpecification = false %}\n\n<!-- Do document checks -->\n{% if not doc.payment_terms_template %}\n    {{ quote_checkpaymentterms(doc) }}\n{% endif %}\n\n\n{% if check_quoteitems(doc) %}\n    {{ frappe.throw(check_quoteitems(doc)) }}\n{% endif %}\n\n<!-- Do printing -->\n\n\n<script>\n  document.addEventListener(\"DOMContentLoaded\", function() {\n    let rows = document.querySelectorAll('.item-row');\n    let subtotal = 0;\n    rows.forEach((row, index) => {\n      subtotal += parseFloat(row.querySelector('.price').textContent);\n\n      // Check for page break condition\n      if ((index + 1) % 20 === 0 || index === rows.length - 1) {  // Assume 20 rows per page\n        let subtotalRow = document.createElement('tr');\n        subtotalRow.classList.add('subtotal-row');\n        subtotalRow.innerHTML = `<td colspan=\"3\">Subtotal</td><td>${subtotal.toFixed(2)}</td>`;\n        row.parentNode.insertBefore(subtotalRow, row.nextSibling);\n        subtotal = 0;\n      }\n    });\n  });\n</script>\n\n\n\n<style>\n{% set site_url = frappe.utils.get_url() %}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: normal;\n\tfont-weight: 200;\n\tsrc: local('Univers LT Std 47 Cn Lt'), local('Univers LT Std 47 Cn Lt'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-LightCn.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: oblique;\n\tfont-weight: 200;\n\tsrc: local('Univers LT Std 47 Cn Lt'), local('Univers LT Std 47 Cn Lt'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-LightCnObl.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: normal;\n\tfont-weight: normal;\n\tsrc: local('Univers LT Std 57 Cn'), local('Univers LT Std 57 Cn'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-Cn.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: oblique;\n\tfont-weight: normal;\n\tsrc: local('Univers LT Std 57 Cn'), local('Univers LT Std 57 Cn'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-CnObl.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: normal;\n\tfont-weight: bold;\n\tsrc: local('Univers LT Std'), local('Univers LT Std'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-BoldCn.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Std';\n\tfont-style: oblique;\n\tfont-weight: bold;\n\tsrc: local('Univers LT Std'), local('Univers LT Std'), url('{{ site_url }}/assets/edevis/font/UniversLTStd-BoldCnObl.otf') format('opentype');\n}\n\n@font-face {\n\tfont-family: 'Univers LT Pro';\n\tfont-style: normal;\n\tfont-weight: bold;\n\tsrc: local('Univers LT Pro'), local('Univers LT Pro'), url('{{ site_url }}/assets/edevis/font/UniversLTPro-XBlack.otf') format('opentype');\n}\n\n</style>\n\n<!-- LETTER HEAD -->\n{% if letter_head %}\n<div class=\"print-format-header\" id=\"header-html\">\n    {{ letter_head }}\n</div>\n{% endif %}\n\n<!-- ADDRESS LABEL -->\n<table class=\"addressfield\">\n<tr>\n    <td style=\"width:60%\">\n        <p class=\"addresssender\">edevis GmbH | Wilhelm-Haas-Str. 2 | D-70771 Leinfelden-Echterdingen</p>\n    <strong>{{ doc.customer_name }}</strong><br/>\n\t{% if doc.address_display %}\n\t    {{ doc.address_display }}\n\t{% endif %}\n\t\n\t<br/>\n\t\n\t</td>\n\t<td style=\"width:40%\">\n\t\t<table class=\"dense\" style=\"width: 100%\">\n\t\t\t<tr><td>{{ _(\"Customer No.\") }}:</td><td style=\"text-align: right;\">{{ doc.customer }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Customer VAT-Id\") }}:</td><td style=\"text-align: right;\">{{ frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") or \"\" }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Supp.No. ref. Cust.No.\") }}:</td><td style=\"text-align: right;\">{{ frappe.db.get_value(\"Customer\", doc.customer, \"custom_supp_no_ref_cust_no\") or \"\" }}</td></tr>\t\t\t\n\t\t\t<tr><td>{{ _(\"Order No.\") }}:</td><td style=\"text-align: right;\">{{ doc.po_no or \"\" }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Processed by\") }}:</td><td style=\"text-align: right;\">{{ frappe.get_fullname(doc.modified_by) or \"\" }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Project No.\") }}:</td><td style=\"text-align: right;\">{{ doc.project or \"\" }}</td></tr>\t\t\t\n\t\t\t<tr><td>{{ _(\"Date\") }}:</td><td style=\"text-align: right;\">{{ frappe.utils.formatdate(doc.transaction_date, \"dd.MM.yyyy\") }}</td></tr>\n\t\t\t<tr><td>{{ _(\"Delivery Date\") }}:</td><td style=\"text-align: right;\">{{ frappe.utils.formatdate(doc.delivery_date, \"dd.MM.yyyy\") }}</td></tr>\n\t\t</table>\n\t</td>\t\n</tr>    \n</table>\n\n<!-- HEADER -->\n{% if doc.docstatus == 0 %}\n<H2 style=\"text-align: center;\">\n    --- ENTWURF ---\n</H2>\n{% endif %}\n\n{% set ns.Columns = 4 %}\n{% if not doc.hide_item_price_within_section %}\n\t{% set ns.Columns = 5 %}\n\t{% if quoteitem_has_discount(doc) %}\n        {% set ns.Columns = 6 %}\n    {% endif %}\n{% endif %}\n\n<div>\n    <h5>{{ _(\"P.O. Confirmation\") }} <span style=\"font-weight: bold;\">{{ doc.name }}</span></h5>\n</div>\n\n<div style=\"margin-bottom: 2em;\">\n    {{ doc.custom_sales_order_note or \"\" }}\n</div>\n\n<div>\n    {% if doc.header_text %}\n        {{ doc.header_text }}\n    {% endif %}\n</div>\n<!-- PRICE TABLE -->\n<table class=\" table-sm pricetable\" >\n\t<thead>\n\t\t<tr class=\"\">\n\t\t\t<th width=\"5%\">{{ _(\"Item Pos\") }}</th>\n\t\t\t<th width=\"10%\">{{ _(\"Item No\") }}</th>\n\t\t\t<th width=\"25%\">{{ _(\"Description\") }}</th>\n\t\t\t<th width=\"5%\" class=\"text-right\">{{ _(\"Qty\") }}</th>\n\t\t\t{% if not doc.hide_item_price_within_section %}\n    \t\t\t<th width=\"10%\" class=\"text-right\">{{ _(\"Rate\") }}</th>\n    \t\t\t{% if quoteitem_has_discount(doc) %}\n    \t\t\t<th width=\"10%\" class=\"text-right\">{{ _(\"Discount\") }}</th>\n    \t\t\t{% endif %}\n\t\t\t{% endif %}\n\t\t\t<th width=\"10%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t    <!-- add parent relationship info to the quotation_items => support hierarchical section headers -->\n\t\t{%- for item in structurize_quoteitem(doc) -%}\n            <!-- format with separator lines if element is first order position (POS1), else without (POS 1.1) -->\n            {% set ns.tableLine = \"tableLine\" if item.parent_item is none else \"\" %}\n            <!-- format bold and with separator lines for section headers -->\n            {% set ns.tableLine = \"tableLine sectionHeader\" if quoteitem_is_header(item) else ns.tableLine %}\n            \n    \t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t        <td class=\"\">{{ item.position }}</td>\n\n\t\t\t    <td class=\"\">\n        \t\t{{ item.item_code if item.item_group != \"Format Elemente\" else \"\"}}\n        \t\t\n        \t\t\n\t\t\t    <td class=\"\">\n\t\t\t        <p>{{ _(item.item_name)}}</p>\n        \t\n\t\t \t\t\t{% if not doc.custom_compact_item_print and item.item_group != \"Format Elemente\" %}\n                    <p>{{ _(item.description)}}</p>    \n                    {%- endif -%}\n                    \n        \t\n        \t\t\n    \t\t\t</td>\n    \t\t\t{% if doc.flags.print_settings.print_uom_after_quantity %}\n    \t\t\t    <td class=\" text-right\">{{ item.qty if item.qty != 0 else \"\" }} {{ _(item.uom) }}</td>\n    \t\t\t{% else %}\n    \t\t\t    <td class=\" text-right\">{{ _(item.uom) if item.qty != 0 else \"\" }} {{ item.qty if item.qty != 0 else \"\" }}</td>\n    \t\t\t{% endif %}\n    \t\t\t\n\t\t\t\t{% if not doc.hide_item_price_within_section %}\n        \t\t    <!-- conditional discount column -->\n\t        \t\t{% if quoteitem_has_discount(doc) %}\n    \t\t\t        <td class=\" text-right\">{{ item.get_formatted(\"price_list_rate\") if item.price_list_rate != 0 else item.get_formatted(\"rate\") if item.rate != 0 else \"\" }}</td>\n            \t\t\t<td class=\"{{ ns.tableLine }} text-right\">{{ item.get_formatted(\"discount_percentage\") if item.discount_percentage != 0 else \"\" }}</td>\n            \t\t{% else %}\n    \t\t\t        <td class=\" text-right\">{{ item.get_formatted(\"rate\") if item.rate != 0 else \"\" }}</td>\n        \t\t\t{% endif %}\n    \t\t\t{% endif %}\n\n\n    \t\t    <!-- amount column -->\n    \t\t\t<td class=\"{{ ns.tableLine }} text-right\">{{ item.get_formatted(\"amount\") if item.amount != 0 else \"\" }}</td>\n    \t\t</tr>\n    \t\t\n\t\t{%- endfor -%}\n\t\t\n\t\t{% set ns.tableLine = \"tableLine\" %}\n\t\t\n\t\t<tr class=\" quoteitems {{ ns.tableLine }}\">\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\n\t\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t\t{{ _(\"Total Excl. Tax\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% else %}\n\t\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t\t{{ _(\"Total\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% endif %}\n\t\t</tr>\n\t\t\n\t\t{%- if doc.discount_amount -%}\n\t\t<tr class=\" quoteitems {{ ns.tableLine }}\">\n\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t    {%- if doc.additional_discount_percentage != 0 -%}\n\t\t\t\t    {{ _(\"Discount\") }} ({{ doc.get_formatted(\"additional_discount_percentage\") }} &percnt;)\n\t\t\t\t{% else %}\n\t\t\t\t    {{ _(\"Discount\") }}\n\t\t\t\t{%- endif -%}    \n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t\n\t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t    {{ _(\"Net Total\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"net_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\t\t\n\t\t\n\t\t{%- for row in doc.taxes -%}\n\t\t  {%- if not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print -%}\n\t\t  {%- if row.tax_amount > 0 -%}\n\t\t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t    {% if '%' in row.description or row.rate == 0 %}\n\t\t\t\t\t    {{ row.description }}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t    {{ row.description }}@{{ row.rate }}%\n\t\t\t\t\t{% endif %}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t    {% endif %}\n\t\t  {%- endif -%}\n\t\t{%- endfor -%}\t\n\t\t\n\t\t<tr class=\"quoteitems {{ ns.tableLine }}\">\n\t\t\t<td colspan=\"{{ ns.Columns }}\">\n\t\t\t\t<b>{{ _(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t<b>{{ doc.get_formatted(\"grand_total\") }}</b>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><br></p>\n{%- if doc.taxes_and_charges is not none and \"Reverse Charge\" in doc.taxes_and_charges -%}\n    <p><strong>{{ _(\"Reverse charge\") }}</strong></p>\n    {{ _(\"Reverse Charge Text\") }}\n    \n{%- endif -%}\n\n<p><br></p>\n<p><strong>{{ _(\"Order Entry hint\") }}</strong></p>\n\n<p><br></p>\n<p><strong>{{ _(\"Payment terms\") }}</strong></p>\n    {%- for row in doc.payment_schedule -%}\n        {{ _(row.description) }}<br>\n    {%- endfor -%}\n    \n    {{ _(\"Payment terms text\") }}<br>\n\n<p><br></p>\n<p><strong>{{ _(\"Mode of delivery\") }}</strong></p>\n{{ _(doc.incoterm) }} - {{ doc.named_place }} (Incoterms 2020)\n\n<p><br></p>\n<!--<p><strong>{{ _(\"Valid till\") }}</strong></p>-->\n<!--{{ _(\"This offer is valid until\") }} {{ frappe.utils.formatdate(doc.valid_till, \"dd.MM.yyyy\") }}.-->\n\n<!--{% if doc.delivery_time %}-->\n<!--<p><br></p>-->\n<!--<p><strong>{{ _(\"Delivery time\") }}</strong></p>-->\n<!--    {{ doc.delivery_time }} {{ _(doc.delivery_time_unit) }} {{ _(\"Delivery time text\") }}-->\n<!--{% endif %}-->\n\n<!--<p><br></p>-->\n<!--<p><strong>{{ _(\"Liability\") }}</strong></p>-->\n<!--    {{ _(\"Liability text\") }}-->\n\n<!--<p><br></p>-->\n<!--<p><strong>{{ _(\"Copyright protection\") }}</strong></p>-->\n<!--    {{ _(\"Copyright protection text\") }}-->\n\n<!--<p><br></p>-->\n<!--<p><strong>{{ _(\"Retention of title\") }}</strong></p>-->\n<!--    {{ _(\"Retention of title text\") }}-->\n\n<!--{% if not doc.supply_of_spare_parts_clause %}-->\n\n<!--<p><br></p>-->\n<!--<p><strong>{{ _(\"Supply of spare parts\") }}</strong></p>-->\n<!--    {{ _(\"Supply of spare parts text\") }}-->\n\n<!--{% endif %}-->\n\n\n{% if doc.terms %}\n\n        {{ doc.terms | replace(\"{{ payment_terms_template }}\", doc.payment_terms_template) | replace(\"{{ incoterm }}\", doc.incoterm or \"EXW\" ) | replace(\"{{ named_place }}\", doc.named_place or \"Leinfelden-Echterdingen\" ) | replace(\"{{ valid_till }}\", doc.valid_till) }}\n\n{% endif %}\n\n{% if doc.print_specification %}\n`\n<div class=\"page-break\"></div>\n\n<h3><span style=\"font-weight: normal;\">{{ _(\"Specification for\") }}</span> {{ doc.name }}</h3>\n{%- for item in doc.items -%}\n    {% if item.item_group != \"Format Elemente\" %}\n    <div style=\"page-break-inside: avoid !important;\">\n    <!-- avoid page break after heading using a table -->\n    <table style=\"width: 100%\">\n        <tr class=\"page-break\">\n            <td style=\"width: 100%\">\n                <!-- heading with item code and item name -->\n            \t<h4 style=\"font-weight:normal;\">{{ item.item_code }}  &nbsp;\n            \t{%- if item.item_name != item.item_code -%}\n            \t\t<b>{{ item.item_name }}</b>\n            \t{%- endif -%}\n            \t</h4>\n                <!-- item picture -->\n                \n                {%- if not \"img src\" in _(item.description) and item.image  -%}\n                <div style=\"max-width: 60%; margin-right: 10px;\">\n                    <img src=\"{{ item.image }}\" style=\"max-width: 100%\">\n                </div>\n                {%- endif -%}\n            </td>\n        </tr>\n    </table>\n\n    <p>{{ _(item.description) }}</p>\n\t\n\t<div style=\"height: 3em;\">&nbsp;</div>\n\t</div>\n\t{% endif %}\n{%- endfor -%}\n{% endif %}\n\n\n\n\n<div id=\"footer-html\" class=\"visible-pdf\">\n    <div class=\"print-format-footer\">\n        {{ footer }}\n    </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-11-22 15:44:29.697608",
  "module": "Selling",
  "name": "Sales Order - ED",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]